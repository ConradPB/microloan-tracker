<!DOCTYPE html>
<html>
  <body>
    <button
      class="btn btn-secondary theme-toggle"
      id="themeToggle"
      aria-label="Toggle Theme"
    >
      <span id="themeIcon"></span>
    </button>
    <div class="hero">
      <h1>Microloan Tracker</h1>
      <p>Manage Loans, Master Control—Your Money, Your Way.</p>
      <p>
        Securely track loans, due dates, and payments with a sleek dashboard.
        Free to start—join now!
      </p>
      <a href="{% url 'signup' %}" class="btn btn-signup btn-cta text-white"
        >Sign Up</a
      >
      <a href="{% url 'login' %}" class="btn btn-login btn-cta text-white"
        >Login</a
      >
    </div>
    <footer>
      <p>Created by Conrad P Mbaziira B | Powered by xAI and Supabase</p>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const toggleButton = document.getElementById("themeToggle");
        const themeIcon = document.getElementById("themeIcon");
        const html = document.documentElement;
        const savedTheme = document.cookie
          .split("; ")
          .find((row) => row.startsWith("theme="));
        const initialTheme = savedTheme
          ? savedTheme.split("=")[1]
          : window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light";
        html.setAttribute("data-theme", initialTheme);
        themeIcon.textContent = initialTheme === "light" ? "🌙" : "☀️";

        toggleButton.addEventListener("click", function () {
          const currentTheme = html.getAttribute("data-theme");
          const newTheme = currentTheme === "light" ? "dark" : "light";
          html.setAttribute("data-theme", newTheme);
          themeIcon.textContent = newTheme === "light" ? "🌙" : "☀️";
          document.cookie = `theme=${newTheme}; path=/; max-age=31536000`;
        });
      });
    </script>
  </body>
</html>
